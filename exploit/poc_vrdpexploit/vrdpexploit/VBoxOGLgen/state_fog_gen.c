/* This code is AUTOGENERATED!!! */

#include "state.h"
#include "state_internals.h"

void crStateFogDiff(CRFogBits *b, CRbitvalue *bitID,
		CRContext *fromCtx, CRContext *toCtx)
{
	CRFogState *from = &(fromCtx->fog);
	CRFogState *to = &(toCtx->fog);
	unsigned int j, i;
	CRbitvalue nbitID[CR_MAX_BITARRAY];
	for (j = 0; j<CR_MAX_BITARRAY; j++)
		nbitID[j] = ~bitID[j];
	i = 0; /* silence compiler */
	if (CHECKDIRTY(b->enable, bitID))
	{
		glAble able[2];
		able[0] = diff_api.Disable;
		able[1] = diff_api.Enable;
		if (from->enable != to->enable)
		{
			able[to->enable](GL_FOG);
			from->enable = to->enable;
		}
		CLEARDIRTY(b->enable, nbitID);
	}
	if (CHECKDIRTY(b->color, bitID))
	{
		if (from->color.r != to->color.r ||
		    from->color.g != to->color.g ||
		    from->color.b != to->color.b ||
		    from->color.a != to->color.a)
		{
			GLfloat varg[4];
			varg[0] = to->color.r;
			varg[1] = to->color.g;
			varg[2] = to->color.b;
			varg[3] = to->color.a;
			diff_api.Fogfv(GL_FOG_COLOR, varg);
			from->color = to->color;
		}
		CLEARDIRTY(b->color, nbitID);
	}
	if (CHECKDIRTY(b->index, bitID))
	{
		if (from->index != to->index)
		{
			diff_api.Fogi(GL_FOG_INDEX, to->index);
			from->index = to->index;
		}
		CLEARDIRTY(b->index, nbitID);
	}
	if (CHECKDIRTY(b->density, bitID))
	{
		if (from->density != to->density)
		{
			diff_api.Fogf(GL_FOG_DENSITY, to->density);
			from->density = to->density;
		}
		CLEARDIRTY(b->density, nbitID);
	}
	if (CHECKDIRTY(b->start, bitID))
	{
		if (from->start != to->start)
		{
			diff_api.Fogf(GL_FOG_START, to->start);
			from->start = to->start;
		}
		CLEARDIRTY(b->start, nbitID);
	}
	if (CHECKDIRTY(b->end, bitID))
	{
		if (from->end != to->end)
		{
			diff_api.Fogf(GL_FOG_END, to->end);
			from->end = to->end;
		}
		CLEARDIRTY(b->end, nbitID);
	}
	if (CHECKDIRTY(b->mode, bitID))
	{
		if (from->mode != to->mode)
		{
			diff_api.Fogi(GL_FOG_MODE, to->mode);
			from->mode = to->mode;
		}
		CLEARDIRTY(b->mode, nbitID);
	}
	if (CHECKDIRTY(b->fogDistanceMode, bitID))
	{
		if (from->fogDistanceMode != to->fogDistanceMode)
		{
			diff_api.Fogi(GL_FOG_DISTANCE_MODE_NV, to->fogDistanceMode);
			from->fogDistanceMode = to->fogDistanceMode;
		}
		CLEARDIRTY(b->fogDistanceMode, nbitID);
	}
	if (CHECKDIRTY(b->fogCoordinateSource, bitID))
	{
		if (from->fogCoordinateSource != to->fogCoordinateSource)
		{
			diff_api.Fogi(GL_FOG_COORDINATE_SOURCE_EXT, to->fogCoordinateSource);
			from->fogCoordinateSource = to->fogCoordinateSource;
		}
		CLEARDIRTY(b->fogCoordinateSource, nbitID);
	}
	CLEARDIRTY(b->dirty, nbitID);
}

void crStateFogSwitch(CRFogBits *b, CRbitvalue *bitID,
		CRContext *fromCtx, CRContext *toCtx)
{
	CRFogState *from = &(fromCtx->fog);
	CRFogState *to = &(toCtx->fog);
	unsigned int j, i;
	CRbitvalue nbitID[CR_MAX_BITARRAY];
	for (j = 0; j<CR_MAX_BITARRAY; j++)
		nbitID[j] = ~bitID[j];
	i = 0; /* silence compiler */
	if (CHECKDIRTY(b->enable, bitID))
	{
		glAble able[2];
		able[0] = diff_api.Disable;
		able[1] = diff_api.Enable;
		if (from->enable != to->enable)
		{
			able[to->enable](GL_FOG);
			FILLDIRTY(b->enable);
			FILLDIRTY(b->dirty);
		}
		CLEARDIRTY(b->enable, nbitID);
	}
	if (CHECKDIRTY(b->color, bitID))
	{
		if (from->color.r != to->color.r ||
		    from->color.g != to->color.g ||
		    from->color.b != to->color.b ||
		    from->color.a != to->color.a)
		{
			GLfloat varg[4];
			varg[0] = to->color.r;
			varg[1] = to->color.g;
			varg[2] = to->color.b;
			varg[3] = to->color.a;
			diff_api.Fogfv(GL_FOG_COLOR, varg);
			FILLDIRTY(b->color);
			FILLDIRTY(b->dirty);
		}
		CLEARDIRTY(b->color, nbitID);
	}
	if (CHECKDIRTY(b->index, bitID))
	{
		if (from->index != to->index)
		{
			diff_api.Fogi(GL_FOG_INDEX, to->index);
			FILLDIRTY(b->index);
			FILLDIRTY(b->dirty);
		}
		CLEARDIRTY(b->index, nbitID);
	}
	if (CHECKDIRTY(b->density, bitID))
	{
		if (from->density != to->density)
		{
			diff_api.Fogf(GL_FOG_DENSITY, to->density);
			FILLDIRTY(b->density);
			FILLDIRTY(b->dirty);
		}
		CLEARDIRTY(b->density, nbitID);
	}
	if (CHECKDIRTY(b->start, bitID))
	{
		if (from->start != to->start)
		{
			diff_api.Fogf(GL_FOG_START, to->start);
			FILLDIRTY(b->start);
			FILLDIRTY(b->dirty);
		}
		CLEARDIRTY(b->start, nbitID);
	}
	if (CHECKDIRTY(b->end, bitID))
	{
		if (from->end != to->end)
		{
			diff_api.Fogf(GL_FOG_END, to->end);
			FILLDIRTY(b->end);
			FILLDIRTY(b->dirty);
		}
		CLEARDIRTY(b->end, nbitID);
	}
	if (CHECKDIRTY(b->mode, bitID))
	{
		if (from->mode != to->mode)
		{
			diff_api.Fogi(GL_FOG_MODE, to->mode);
			FILLDIRTY(b->mode);
			FILLDIRTY(b->dirty);
		}
		CLEARDIRTY(b->mode, nbitID);
	}
	if (CHECKDIRTY(b->fogDistanceMode, bitID))
	{
		if (from->fogDistanceMode != to->fogDistanceMode)
		{
			diff_api.Fogi(GL_FOG_DISTANCE_MODE_NV, to->fogDistanceMode);
			FILLDIRTY(b->fogDistanceMode);
			FILLDIRTY(b->dirty);
		}
		CLEARDIRTY(b->fogDistanceMode, nbitID);
	}
	if (CHECKDIRTY(b->fogCoordinateSource, bitID))
	{
		if (from->fogCoordinateSource != to->fogCoordinateSource)
		{
			diff_api.Fogi(GL_FOG_COORDINATE_SOURCE_EXT, to->fogCoordinateSource);
			FILLDIRTY(b->fogCoordinateSource);
			FILLDIRTY(b->dirty);
		}
		CLEARDIRTY(b->fogCoordinateSource, nbitID);
	}
	CLEARDIRTY(b->dirty, nbitID);
}

